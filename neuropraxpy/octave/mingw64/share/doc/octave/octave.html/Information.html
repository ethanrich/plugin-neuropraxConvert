<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Created by GNU Texinfo 6.8, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>Information (GNU Octave (version 7.2.0))</title>

<meta name="description" content="Information (GNU Octave (version 7.2.0))">
<meta name="keywords" content="Information (GNU Octave (version 7.2.0))">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Concept-Index.html" rel="index" title="Concept Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Basics.html" rel="up" title="Basics">
<link href="Operators-and-Functions.html" rel="next" title="Operators and Functions">
<link href="Creating-Sparse-Matrices.html" rel="prev" title="Creating Sparse Matrices">
<style type="text/css">
<!--
a.copiable-anchor {visibility: hidden; text-decoration: none; line-height: 0em}
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
span:hover a.copiable-anchor {visibility: visible}
ul.no-bullet {list-style: none}
-->
</style>
<link rel="stylesheet" type="text/css" href="octave.css">


</head>

<body lang="en">
<div class="subsection" id="Information">
<div class="header">
<p>
Next: <a href="Operators-and-Functions.html" accesskey="n" rel="next">Basic Operators and Functions on Sparse Matrices</a>, Previous: <a href="Creating-Sparse-Matrices.html" accesskey="p" rel="prev">Creating Sparse Matrices</a>, Up: <a href="Basics.html" accesskey="u" rel="up">Creation and Manipulation of Sparse Matrices</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Concept-Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<span id="Finding-Information-about-Sparse-Matrices"></span><h4 class="subsection">22.1.3 Finding Information about Sparse Matrices</h4>

<p>There are a number of functions that allow information concerning
sparse matrices to be obtained.  The most basic of these is
<em>issparse</em> that identifies whether a particular Octave object is
in fact a sparse matrix.
</p>
<p>Another very basic function is <em>nnz</em> that returns the number of
nonzero entries there are in a sparse matrix, while the function
<em>nzmax</em> returns the amount of storage allocated to the sparse
matrix.  Note that Octave tends to crop unused memory at the first
opportunity for sparse objects.  There are some cases of user created
sparse objects where the value returned by <em>nzmax</em> will not be
the same as <em>nnz</em>, but in general they will give the same
result.  The function <em>spstats</em> returns some basic statistics on
the columns of a sparse matrix including the number of elements, the
mean and the variance of each column.
</p>
<span id="XREFissparse"></span><dl class="def">
<dt id="index-issparse"><span class="category">: </span><span><em></em> <strong>issparse</strong> <em>(<var>x</var>)</em><a href='#index-issparse' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Return true if <var>x</var> is a sparse matrix.
</p>
<p><strong>See also:</strong> <a href="Predicates-for-Numeric-Objects.html#XREFismatrix">ismatrix</a>.
</p></dd></dl>


<span id="XREFnnz"></span><dl class="def">
<dt id="index-nnz"><span class="category">: </span><span><em><var>n</var> =</em> <strong>nnz</strong> <em>(<var>a</var>)</em><a href='#index-nnz' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Return the number of nonzero elements in <var>a</var>.
</p>
<p><strong>See also:</strong> <a href="#XREFnzmax">nzmax</a>, <a href="#XREFnonzeros">nonzeros</a>, <a href="Finding-Elements-and-Checking-Conditions.html#XREFfind">find</a>.
</p></dd></dl>


<span id="XREFnonzeros"></span><dl class="def">
<dt id="index-nonzeros"><span class="category">: </span><span><em><var>v</var> =</em> <strong>nonzeros</strong> <em>(<var>A</var>)</em><a href='#index-nonzeros' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Return a column vector of the nonzero values of the matrix <var>A</var>.
</p>
<p><strong>See also:</strong> <a href="Finding-Elements-and-Checking-Conditions.html#XREFfind">find</a>, <a href="#XREFnnz">nnz</a>.
</p></dd></dl>


<span id="XREFnzmax"></span><dl class="def">
<dt id="index-nzmax"><span class="category">: </span><span><em><var>n</var> =</em> <strong>nzmax</strong> <em>(<var>SM</var>)</em><a href='#index-nzmax' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Return the amount of storage allocated to the sparse matrix <var>SM</var>.
</p>
<p>Programming Note: Octave tends to crop unused memory at the first opportunity
for sparse objects.  Thus, in general the value of <code>nzmax</code> will be the
same as <code>nnz</code>, except for some cases of user-created sparse objects.
</p>
<p>Also, note that Octave always reserves storage for at least one value.  Thus,
for empty matrices <code>nnz</code> will report 0, but <code>nzmax</code> will report 1.
</p>
<p><strong>See also:</strong> <a href="#XREFnnz">nnz</a>, <a href="Creating-Sparse-Matrices.html#XREFspalloc">spalloc</a>, <a href="Creating-Sparse-Matrices.html#XREFsparse">sparse</a>.
</p></dd></dl>


<span id="XREFspstats"></span><dl class="def">
<dt id="index-spstats"><span class="category">: </span><span><em>[<var>count</var>, <var>mean</var>, <var>var</var>] =</em> <strong>spstats</strong> <em>(<var>S</var>)</em><a href='#index-spstats' class='copiable-anchor'> &para;</a></span></dt>
<dt id="index-spstats-1"><span class="category">: </span><span><em>[<var>count</var>, <var>mean</var>, <var>var</var>] =</em> <strong>spstats</strong> <em>(<var>S</var>, <var>j</var>)</em><a href='#index-spstats-1' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Return the stats for the nonzero elements of the sparse matrix <var>S</var>.
</p>
<p><var>count</var> is the number of nonzeros in each column, <var>mean</var> is the mean
of the nonzeros in each column, and <var>var</var> is the variance of the
nonzeros in each column.
</p>
<p>Called with two input arguments, if <var>S</var> is the data and <var>j</var> is the
bin number for the data, compute the stats for each bin.  In this case,
bins can contain data values of zero, whereas with
<code>spstats (<var>S</var>)</code> the zeros may disappear.
</p></dd></dl>


<p>When solving linear equations involving sparse matrices Octave
determines the means to solve the equation based on the type of the
matrix (see <a href="Sparse-Linear-Algebra.html">Linear Algebra on Sparse Matrices</a>).  Octave probes the
matrix type when the div (/) or ldiv (\) operator is first used with
the matrix and then caches the type.  However the <em>matrix_type</em>
function can be used to determine the type of the sparse matrix prior
to use of the div or ldiv operators.  For example,
</p>
<div class="example">
<pre class="example">a = tril (sprandn (1024, 1024, 0.02), -1) ...
    + speye (1024);
matrix_type (a);
ans = Lower
</pre></div>

<p>shows that Octave correctly determines the matrix type for lower
triangular matrices.  <em>matrix_type</em> can also be used to force
the type of a matrix to be a particular type.  For example:
</p>
<div class="example">
<pre class="example">a = matrix_type (tril (sprandn (1024, ...
   1024, 0.02), -1) + speye (1024), &quot;Lower&quot;);
</pre></div>

<p>This allows the cost of determining the matrix type to be
avoided.  However, incorrectly defining the matrix type will result in
incorrect results from solutions of linear equations, and so it is
entirely the responsibility of the user to correctly identify the
matrix type
</p>
<p>There are several graphical means of finding out information about
sparse matrices.  The first is the <em>spy</em> command, which displays
the structure of the nonzero elements of the
matrix.  See <a href="#fig_003aspmatrix">Figure 22.1</a>, for an example of the use of
<em>spy</em>.  More advanced graphical information can be obtained with the
<em>treeplot</em>, <em>etreeplot</em> and <em>gplot</em> commands.
</p>
<div class="float"><span id="fig_003aspmatrix"></span>
<div align="center"><img src="spmatrix.png" alt="spmatrix">
</div>
<div class="float-caption"><p><strong>Figure 22.1: </strong>Structure of simple sparse matrix.</p></div></div>
<p>One use of sparse matrices is in graph theory, where the
interconnections between nodes are represented as an adjacency
matrix.  That is, if the i-th node in a graph is connected to the j-th
node.  Then the ij-th node (and in the case of undirected graphs the
ji-th node) of the sparse adjacency matrix is nonzero.  If each node
is then associated with a set of coordinates, then the <em>gplot</em>
command can be used to graphically display the interconnections
between nodes.
</p>
<p>As a trivial example of the use of <em>gplot</em> consider the example,
</p>
<div class="example">
<pre class="example">A = sparse ([2,6,1,3,2,4,3,5,4,6,1,5],
    [1,1,2,2,3,3,4,4,5,5,6,6],1,6,6);
xy = [0,4,8,6,4,2;5,0,5,7,5,7]';
gplot (A,xy)
</pre></div>

<p>which creates an adjacency matrix <code>A</code> where node 1 is connected
to nodes 2 and 6, node 2 with nodes 1 and 3, etc.  The coordinates of
the nodes are given in the n-by-2 matrix <code>xy</code>.
See <a href="#fig_003agplot">Figure 22.2</a>.
</p>
<div class="float"><span id="fig_003agplot"></span>
<div align="center"><img src="gplot.png" alt="gplot">
</div>
<div class="float-caption"><p><strong>Figure 22.2: </strong>Simple use of the <em>gplot</em> command.</p></div></div>
<p>The dependencies between the nodes of a Cholesky&nbsp;factorization can be
calculated in linear time without explicitly needing to calculate the
Cholesky&nbsp;factorization by the <code>etree</code> command.  This command
returns the elimination tree of the matrix and can be displayed
graphically by the command <code>treeplot (etree (A))</code> if <code>A</code> is
symmetric or <code>treeplot (etree (A+A'))</code> otherwise.
</p>
<span id="XREFspy"></span><dl class="def">
<dt id="index-spy"><span class="category">: </span><span><em></em> <strong>spy</strong> <em>(<var>x</var>)</em><a href='#index-spy' class='copiable-anchor'> &para;</a></span></dt>
<dt id="index-spy-1"><span class="category">: </span><span><em></em> <strong>spy</strong> <em>(&hellip;, <var>markersize</var>)</em><a href='#index-spy-1' class='copiable-anchor'> &para;</a></span></dt>
<dt id="index-spy-2"><span class="category">: </span><span><em></em> <strong>spy</strong> <em>(&hellip;, <var>line_spec</var>)</em><a href='#index-spy-2' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Plot the sparsity pattern of the sparse matrix <var>x</var>.
</p>
<p>If the optional numeric argument <var>markersize</var> is given, it determines
the size of the markers used in the plot.
</p>
<p>If the optional string <var>line_spec</var> is given it is passed to <code>plot</code>
and determines the appearance of the plot.
</p>
<p><strong>See also:</strong> <a href="Two_002dDimensional-Plots.html#XREFplot">plot</a>, <a href="#XREFgplot">gplot</a>.
</p></dd></dl>


<span id="XREFetree"></span><dl class="def">
<dt id="index-etree"><span class="category">: </span><span><em><var>p</var> =</em> <strong>etree</strong> <em>(<var>S</var>)</em><a href='#index-etree' class='copiable-anchor'> &para;</a></span></dt>
<dt id="index-etree-1"><span class="category">: </span><span><em><var>p</var> =</em> <strong>etree</strong> <em>(<var>S</var>, <var>typ</var>)</em><a href='#index-etree-1' class='copiable-anchor'> &para;</a></span></dt>
<dt id="index-etree-2"><span class="category">: </span><span><em>[<var>p</var>, <var>q</var>] =</em> <strong>etree</strong> <em>(<var>S</var>, <var>typ</var>)</em><a href='#index-etree-2' class='copiable-anchor'> &para;</a></span></dt>
<dd>
<p>Return the elimination tree for the matrix <var>S</var>.
</p>
<p>By default <var>S</var> is assumed to be symmetric and the symmetric elimination
tree is returned.  The argument <var>typ</var> controls whether a symmetric or
column elimination tree is returned.  Valid values of <var>typ</var> are
<code>&quot;sym&quot;</code> or <code>&quot;col&quot;</code>, for symmetric or column elimination tree
respectively.
</p>
<p>Called with a second argument, <code>etree</code> also returns the postorder
permutations on the tree.
</p></dd></dl>


<span id="XREFetreeplot"></span><dl class="def">
<dt id="index-etreeplot"><span class="category">: </span><span><em></em> <strong>etreeplot</strong> <em>(<var>A</var>)</em><a href='#index-etreeplot' class='copiable-anchor'> &para;</a></span></dt>
<dt id="index-etreeplot-1"><span class="category">: </span><span><em></em> <strong>etreeplot</strong> <em>(<var>A</var>, <var>node_style</var>, <var>edge_style</var>)</em><a href='#index-etreeplot-1' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Plot the elimination tree of the matrix <var>A</var> or
<code><var>A</var>+<var>A</var>'</code> if <var>A</var> in not symmetric.
</p>
<p>The optional parameters <var>node_style</var> and <var>edge_style</var> define the
output style.
</p>
<p><strong>See also:</strong> <a href="#XREFtreeplot">treeplot</a>, <a href="#XREFgplot">gplot</a>.
</p></dd></dl>


<span id="XREFgplot"></span><dl class="def">
<dt id="index-gplot"><span class="category">: </span><span><em></em> <strong>gplot</strong> <em>(<var>A</var>, <var>xy</var>)</em><a href='#index-gplot' class='copiable-anchor'> &para;</a></span></dt>
<dt id="index-gplot-1"><span class="category">: </span><span><em></em> <strong>gplot</strong> <em>(<var>A</var>, <var>xy</var>, <var>line_style</var>)</em><a href='#index-gplot-1' class='copiable-anchor'> &para;</a></span></dt>
<dt id="index-gplot-2"><span class="category">: </span><span><em>[<var>x</var>, <var>y</var>] =</em> <strong>gplot</strong> <em>(<var>A</var>, <var>xy</var>)</em><a href='#index-gplot-2' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Plot a graph defined by <var>A</var> and <var>xy</var> in the graph theory sense.
</p>
<p><var>A</var> is the adjacency matrix of the array to be plotted and <var>xy</var> is
an <var>n</var>-by-2 matrix containing the coordinates of the nodes of the graph.
</p>
<p>The optional parameter <var>line_style</var> defines the output style for the
plot.  Called with no output arguments the graph is plotted directly.
Otherwise, return the coordinates of the plot in <var>x</var> and <var>y</var>.
</p>
<p><strong>See also:</strong> <a href="#XREFtreeplot">treeplot</a>, <a href="#XREFetreeplot">etreeplot</a>, <a href="#XREFspy">spy</a>.
</p></dd></dl>


<span id="XREFtreeplot"></span><dl class="def">
<dt id="index-treeplot"><span class="category">: </span><span><em></em> <strong>treeplot</strong> <em>(<var>tree</var>)</em><a href='#index-treeplot' class='copiable-anchor'> &para;</a></span></dt>
<dt id="index-treeplot-1"><span class="category">: </span><span><em></em> <strong>treeplot</strong> <em>(<var>tree</var>, <var>node_style</var>, <var>edge_style</var>)</em><a href='#index-treeplot-1' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Produce a graph of tree or forest.
</p>
<p>The first argument is vector of predecessors.
</p>
<p>The optional parameters <var>node_style</var> and <var>edge_style</var> define the
output plot style.
</p>
<p>The complexity of the algorithm is O(n) in terms of is time and memory
requirements.
</p>
<p><strong>See also:</strong> <a href="#XREFetreeplot">etreeplot</a>, <a href="#XREFgplot">gplot</a>.
</p></dd></dl>


<span id="XREFtreelayout"></span><dl class="def">
<dt id="index-treelayout"><span class="category">: </span><span><em></em> <strong>treelayout</strong> <em>(<var>tree</var>)</em><a href='#index-treelayout' class='copiable-anchor'> &para;</a></span></dt>
<dt id="index-treelayout-1"><span class="category">: </span><span><em></em> <strong>treelayout</strong> <em>(<var>tree</var>, <var>permutation</var>)</em><a href='#index-treelayout-1' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>treelayout lays out a tree or a forest.
</p>
<p>The first argument <var>tree</var> is a vector of predecessors.
</p>
<p>The parameter <var>permutation</var> is an optional postorder permutation.
</p>
<p>The complexity of the algorithm is O(n) in terms of time and memory
requirements.
</p>
<p><strong>See also:</strong> <a href="#XREFetreeplot">etreeplot</a>, <a href="#XREFgplot">gplot</a>, <a href="#XREFtreeplot">treeplot</a>.
</p></dd></dl>


</div>
<hr>
<div class="header">
<p>
Next: <a href="Operators-and-Functions.html">Basic Operators and Functions on Sparse Matrices</a>, Previous: <a href="Creating-Sparse-Matrices.html">Creating Sparse Matrices</a>, Up: <a href="Basics.html">Creation and Manipulation of Sparse Matrices</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Concept-Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
